/*
 * Copyright (C) 2022,2023 Tomoyuki Fujimori <moyu@dromozoa.com>
 *
 * This file is part of 昭和横濱物語.
 *
 * 昭和横濱物語 is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * 昭和横濱物語 is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with 昭和横濱物語.  If not, see <http://www.gnu.org/licenses/>.
 */

/*************************************************************************/

:root {
  --font-size: 24px;
  --font-family: 'BIZ UDPMincho', 'Source Serif Pro', serif;
  --font-family-title-ja: 'Yuji Syuku', serif;
  --font-family-title-en: 'Averia Serif Libre', serif;
  --font-family-console: 'Share Tech', sans-serif;
  --font-family-logging: 'Share Tech Mono', 'BIZ UDGothic', monospace;

  --color-title: #C63322;
  --color-console: #029D93;
  --color-fill: rgba(255, 255, 255, 0.1);
  --color-fill-active: rgba(2, 157, 147, 0.1);
  --color-stroke: #FFF;
  --color-stroke-active: var(--color-console);
}

@media (orientation: portrait) {
  :root {
    --screen-width: calc(var(--font-size) * 27);
    --screen-height: calc(var(--font-size) * 48);
    --screen-background-image: url(../output/bg-portrait.png);
  }
}

@media (orientation: landscape) {
  :root {
    --screen-width: calc(var(--font-size) * 48);
    --screen-height: calc(var(--font-size) * 27);
    --screen-background-image: url(../output/bg-landscape.png);
  }
}

@media (hover: hover) {
  :root {
    --cursor-pointer: pointer;
  }
}

.lil-gui {
  --font-family: 'Share Tech', 'BIZ UDPGothic', sans-serif;
  --font-family-mono: 'Share Tech Mono', 'BIZ UDGothic', monospace;
}

/*************************************************************************/

body.demeter {
  margin: 0;
  color: #FFF;
  background-color: #000;
}

/*************************************************************************/

.demeter-title-screen {
  position: absolute;
  width: var(--screen-width);
  height: var(--screen-height);
  cursor: var(--cursor-pointer, auto);
  background-image: var(--screen-background-image);
  background-repeat: none;
  background-attachment: fixed;
}

.demeter-title {
  position: absolute;
  width: calc(var(--font-size) * 27);
  height: calc(var(--font-size) * 18);
  left: calc((var(--screen-width) - var(--font-size) * 27) * 0.5);
  top: calc((var(--screen-height) - var(--font-size) * 18) * 0.5);
}

.demeter-title-ja {
  color: var(--color-title);
  font-family: var(--font-family-title-ja);
  font-kerning: none;
  font-size: calc(var(--font-size) * 4);
  line-height: calc(var(--font-size) * 6);
  text-align: center;
}

.demeter-title-ja > span {
  filter: url(#demeter-title-ja-filter);
}

.demeter-title-en {
  color: var(--color-title);
  font-family: var(--font-family-title-en);
  font-kerning: none;
  font-size: var(--font-size);
  line-height: calc(var(--font-size) * 1.5);
  text-align: center;
}

.demeter-title-en > span {
  filter: url(#demeter-title-en-filter);
}

.demeter-title-text {
  margin-top: calc(var(--font-size) * 3);
  color: var(--color-console);
  font-family: var(--font-family-console);
  font-size: var(--font-size);
  line-height: calc(var(--font-size) * 1.5);
  text-align: center;
}

.demeter-title-icon {
  display: none;
  margin-top: calc(var(--font-size) * 3);
  color: var(--color-console);
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: calc(var(--font-size) * 1.5);
  text-align: center;
  transform-origin: center bottom;
}

/*************************************************************************/

.demeter-main-screen {
  position: absolute;
  width: var(--screen-width);
  height: var(--screen-height);
  /*
  cursor: var(--cursor-pointer, auto);
  */
  background-image: var(--screen-background-image);
  background-repeat: none;
  background-attachment: fixed;
}

.demeter-main-menu {
  position: absolute;
  width: calc(var(--font-size) * 24);
  height: calc(var(--font-size) * 4.75);
  left: calc((var(--screen-width) - var(--font-size) * 24) * 0.5);
  top: 0;
}

.demeter-main-menu-frame {
  position: absolute;
}

.demeter-main-menu-frame svg {
  display: block;
  stroke-width: 1px;
}

.demeter-main-menu-items {
  position: absolute;
}

.demeter-main-menu-item {
  position: absolute;
  width: calc(var(--font-size) * 7);
  font-family: var(--font-family-console);
  font-size: var(--font-size);
  line-height: calc(var(--font-size) * 2);
  text-align: center;
  pointer-events: none;
}

.demeter-main-menu-item1 {
  left: calc(var(--font-size) * 8.5);
  top: calc(var(--font-size) * 0.25);
}

.demeter-main-menu-item2 {
  left: calc(var(--font-size) * 1.5);
  top: calc(var(--font-size) * 0.25);
}

.demeter-main-menu-item3 {
  left: calc(var(--font-size) * 15.5);
  top: calc(var(--font-size) * 0.25);
}

.demeter-main-menu-item4 {
  left: calc(var(--font-size) * 0.5);
  top: calc(var(--font-size) * 2.5);
}

.demeter-main-menu-item5 {
  left: calc(var(--font-size) * 16.5);
  top: calc(var(--font-size) * 2.5);
}

.demeter-main-menu-title {
  position: absolute;
  width: calc(var(--font-size) * 9);
  left: calc(var(--font-size) * 7.5);
  top: calc(var(--font-size) * 2.5);
  font-family: var(--font-family-title-ja);
  font-size: var(--font-size);
  line-height: calc(var(--font-size) * 2);
  text-align: center;
}

.demeter-main-silhouette {
  position: absolute;
  width: calc(var(--font-size) * 14);
  height: calc(var(--font-size) * 25);
  /* debug
  */
  background-color: rgba(100%, 10%, 10%, 100%);
}

@media(orientation: portrait) {
  .demeter-main-silhouette {
    top: calc(var(--font-size) * 6);
    right: var(--font-size);
  }
}

@media(orientation: landscape) {
  .demeter-main-silhouette {
    top: var(--font-size);
    right: var(--font-size);
  }
}

.demeter-main-logging {
  position: absolute;
  width: calc(var(--font-size) * 10);
  height: calc(var(--font-size) * 5);
  font-family: var(--font-family-logging);
  font-size: calc(var(--font-size) * 0.5);
  line-height: var(--font-size);
  overflow: auto;
  scrollbar-width: none;
  color: var(--component-color, #FFF);
  opacity: var(--component-opacity, 0.25);
}

.demeter-main-logging::-webkit-scrollbar {
  display: none;
}

@media(orientation: portrait) {
  .demeter-main-logging {
    top: calc(var(--font-size) * 6);
    left: var(--font-size);
  }
}

@media(orientation: landscape) {
  .demeter-main-logging {
    top: var(--font-size);
    left: var(--font-size);
  }
}

.demeter-main-audio-visualizer {
  position: absolute;
  width: calc(var(--font-size) * 10);
  height: calc(var(--font-size) * 5);
}

@media(orientation: portrait) {
  .demeter-main-audio-visualizer {
    top: calc(var(--font-size) * 12);
    left: var(--font-size);
  }
}

@media(orientation: landscape) {
  .demeter-main-audio-visualizer {
    top: calc(var(--font-size) * 6.5);
    left: var(--font-size);
  }
}

.demeter-main-frame-rate-visualizer {
  position: absolute;
  width: calc(var(--font-size) * 10);
  height: calc(var(--font-size) * 5);
}

@media(orientation: portrait) {
  .demeter-main-frame-rate-visualizer {
    top: calc(var(--font-size) * 18);
    left: var(--font-size);
  }
}

@media(orientation: landscape) {
  .demeter-main-frame-rate-visualizer {
    top: calc(var(--font-size) * 12);
    left: var(--font-size);
  }
}

/* 実際のサイズはtransformのscale(1.5)がかかることに注意 */
.demeter-main-system-ui {
  position: absolute;
  left: calc((var(--screen-width) - var(--font-size) * 18) * 0.5);
  top: calc(var(--font-size) * 5);
  transform: scale(1.5);
  transform-origin: left top;
  overflow: auto;
  scrollbar-width: none;
}

.demeter-main-system-ui::-webkit-scrollbar {
  display: none;
}

@media (orientation: portrait) {
  .demeter-main-system-ui {
    width: calc(var(--font-size) * 18 / 1.5);
    height: calc(var(--font-size) * 28 / 1.5);
  }
}

@media (orientation: landscape) {
  .demeter-main-system-ui {
    width: calc(var(--font-size) * 18 / 1.5);
    height: calc(var(--font-size) * 13 / 1.5);
  }
}

.demeter-main-paragraph {
  position: absolute;
  left: var(--font-size);
  bottom: var(--font-size);
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: calc(var(--font-size) * 2);
}

@media (orientation: portrait) {
  .demeter-main-paragraph {
    width: calc(var(--font-size) * 25);
    height: calc(var(--font-size) * 12);
  }
}

@media (orientation: landscape) {
  .demeter-main-paragraph {
    width: calc(var(--font-size) * 46);
    height: calc(var(--font-size) * 8);
  }
}

.demeter-main-paragraph-speaker {
  position: absolute;
  top: 0;
  left: 0;
}

@media (orientation: portrait) {
  .demeter-main-paragraph-speaker {
    width: calc(var(--font-size) * 25);
    height: calc(var(--font-size) * 2);
    text-align: center;
  }
}

@media (orientation: landscape) {
  .demeter-main-paragraph-speaker {
    width: calc(var(--font-size) * 6);
    height: calc(var(--font-size) * 2);
  }
}

.demeter-main-paragraph-text {
  position: absolute;
  width: calc(var(--font-size) * 25);
  height: calc(var(--font-size) * 8);
}

@media (orientation: portrait) {
  .demeter-main-paragraph-text {
    top: calc(var(--font-size) * 2);
    left: 0;
  }
}

@media (orientation: landscape) {
  .demeter-main-paragraph-text {
    top: 0;
    left: calc(var(--font-size) * 6);
  }
}

.demeter-main-paragraph-icon {
  display: none;
  position: absolute;
  bottom: 0;
  right: 0;
  height: calc(var(--font-size) * 2);
  text-align: right;
  transform-origin: center bottom;
}

/*************************************************************************/

/* 1989-01-06 21:33Z */
.demeter-offscreen {
  position: absolute;
  top: -8916px;
  left: -2133px;
}

.demeter-loader {
  font-family: var(--font-family);
}

.demeter-graph > svg {
  display: block;
}

/*************************************************************************/

.demeter-icon {
  font-family: 'Showa Yokohama Story';
}

.demeter-icon::before {
  content: '\E000';
}

/*************************************************************************/

.demeter-button {
  fill: var(--color-fill);
  stroke: var(--color-stroke);
  transition: fill 0.5s, stroke 0.5s;
}

.demeter-button:active {
  fill: var(--color-fill-active);
}

@media (hover: hover) {
  .demeter-button:hover {
    stroke: var(--color-stroke-active);
  }
}

/*************************************************************************/

div.demeter-text {
  white-space: nowrap;
}

div.demeter-text > div > span {
  display: inline-block;
  position: relative;
}

div.demeter-text > div > span > span {
  display: inline-block;
}

div.demeter-text > div > span > div {
  position: absolute;
  font-size: 50%;
}

div.demeter-text > div > span > div > span {
  display: inline-block;
}

/*************************************************************************/
