<!DOCTYPE html>
<html>

<!--
  -- Copyright (C) 2022 Tomoyuki Fujimori <moyu@dromozoa.com>
  --
  -- This file is part of 昭和横濱物語.
  --
  -- 昭和横濱物語 is free software: you can redistribute it and/or modify
  -- it under the terms of the GNU General Public License as published by
  -- the Free Software Foundation, either version 3 of the License, or
  -- (at your option) any later version.
  --
  -- 昭和横濱物語 is distributed in the hope that it will be useful,
  -- but WITHOUT ANY WARRANTY; without even the implied warranty of
  -- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  -- GNU General Public License for more details.
  --
  -- You should have received a copy of the GNU General Public License
  -- along with 昭和横濱物語.  If not, see <http://www.gnu.org/licenses/>.
  -->

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>昭和横濱物語</title>

  <!-- https://fonts.google.com/ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=BIZ+UDPMincho&family=Share+Tech&display=swap" rel="stylesheet">

  <link href="font_face.css" rel="stylesheet">
  <link href="common.css" rel="stylesheet">

  <link href="manifest.webmanifest" rel="manifest">
  <link href="favicon.ico" rel="icon" sizes="any">
  <link href="favicon.svg" rel="icon" type="image/svg+xml">
  <link href="apple-touch-icon.png" rel="apple-touch-icon">

  <!-- https://github.com/goldfire/howler.js#quick-start -->
  <script defer src="https://cdn.jsdelivr.net/npm/howler@2.2.3/dist/howler.min.js" integrity="sha256-D+v9meJzO2kOysLcNsgohfWBprXHO2WJWJj/hUhBX1s=" crossorigin="anonymous"></script>

  <!-- https://threejs.org/docs/#manual/en/introduction/Installation -->
  <script defer src="https://cdn.jsdelivr.net/npm/three@0.146.0/build/three.min.js" integrity="sha256-OmYCVIx1jMpOJ2LVDoAqVAC0xmO2pjjXapFjWYRn3tQ=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/renderers/CSS3DRenderer.js" integrity="sha256-JXtFOyJmY70SR18tpsIyBT4rr2U6lZhZvgQuHTn2Nv4=" crossorigin="anonymous"></script>

  <!-- https://lil-gui.georgealways.com/#Guide#Installation -->
  <script defer src="https://cdn.jsdelivr.net/npm/lil-gui@0.17.0/dist/lil-gui.umd.min.js" integrity="sha256-nxA4RilDJhj/0KWgoBtzApRa21VuGjjinTHof84MK/0=" crossorigin="anonymous"></script>

  <script defer src="jlreq.js"></script>
  <script defer src="common.js"></script>
</head>
<body>

<div>
  <!--
  <div id="view" class="view" style="
    background-color: #ccc;
    font-family: 'Showa Yokohama Story', 'Share Tech', 'BIZ UDPMincho';
    font-size: 24px;
    line-height: 2;
    overflow-wrap: break-word;
    text-align: justify;
    width: 12em;
  ">
    <div>あ<span>&#x200B;</span><span style="letter-spacing: 11.5em">&#xFEFF;x</span></div>
    <div>ああ<span>&#x200B;</span><span style="letter-spacing: 11.5em">&#xFEFF;x</span></div>
    <div>あああ<span>&#x200B;</span><span style="letter-spacing: 11.5em">&#xFEFF;x</span></div>
    <div>ああああ<span>&#x200B;</span><span style="letter-spacing: 11.5em">&#xFEFF;x</span></div>
    <div>--------</div>
    <div><span>&#x200B;</span>あ<span>&#x200B;</span><span style="letter-spacing: 11.5em">&#xFEFF;x</span></div>
    <div><span>&#x200B;</span>ああ<span>&#x200B;</span><span style="letter-spacing: 11.5em">&#xFEFF;x</span></div>
    <div><span>&#x200B;</span>あああ<span>&#x200B;</span><span style="letter-spacing: 11.5em">&#xFEFF;x</span></div>
    <div><span>&#x200B;</span>ああああ<span>&#x200B;</span><span style="letter-spacing: 11.5em">&#xFEFF;x</span></div>
    <div>--------</div>
    <div>あ<span style="letter-spacing: 11.5em">x</span></div>
    <div>ああ<span style="letter-spacing: 11.5em">x</span></div>
    <div>あああ<span style="letter-spacing: 11.5em">x</span></div>
    <div>ああああ<span style="letter-spacing: 11.5em">x</span></div>
    <div>--------</div>
    <div>あ<span style="letter-spacing: 11.5em">x</span></div>
    <div>ああ<span style="letter-spacing: 11.5em">x</span></div>
    <div>あああ<span style="letter-spacing: 11.5em">x</span></div>
    <div>ああああ<span style="letter-spacing: 11.5em">x</span></div>
  </div>
  -->

  <div style="
    position: relative;
    width: 480px;
    height: 576px;
  ">

    <div id="a" style="
      position: absolute;
      width: 240px;
      height: 576px;
      top: 0px;
      left: 0px;

      font-family: 'Showa Yokohama Story', 'Share Tech', 'BIZ UDPMincho';
      font-size: 24px;
      line-height: 48px;
    ">
      <span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span>
    </div>

    <div id="b" style="
      position: absolute;
      width: 240px;
      height: 576px;
      top: -18px;
      left: 0px;

      font-family: 'Showa Yokohama Story', 'Share Tech', 'BIZ UDPMincho';
      font-size: 12px;
      line-height: 48px;
    ">
      <span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span><span
      >あ</span><span>いうえおかきくけこたちつてとなにぬねのはひふへほ</span>
    </div>

    <div id="c" style="
      position: absolute;
      width: 240px;
      height: 240px;
      top: 0px;
      left: 240px;

      font-family: 'Showa Yokohama Story', 'Share Tech', 'BIZ UDPMincho';
      font-size: 24px;
      line-height: 48px;
    "><span id="x" style="
      color: rgba(255, 0, 0, 0.5);
    ">永遠</span><br><span id ="y" style="
      display: inline-block;
      position: absolute;
      width: 48px;
      top: 0px;
      color: rgba(0, 255, 0, 0.5);
      padding-left: 24px;
    "><span>遠</span></span><br><span id ="z" style="
      display: block;
      position: absolute;
      width: 48px;
      top: 0px;
      color: rgba(0, 0, 255, 0.5);
      padding-right: 24px;
    "><span>永</span></div>

  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", async () => {
  const D = globalThis.dromozoa;
  await D.booted;

  console.log("load font faces: start");
  const result = await Promise.all([...Array(document.fonts.size).keys()].map(index => D.load_font_face(index, 20000)));
  console.log("load font faces: end", result);
});
</script>

</body>
</html>
