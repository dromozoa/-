<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>昭和横濱物語</title>

  <!-- https://fonts.google.com/ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=BIZ+UDPMincho&display=swap" rel="stylesheet">

  <link href="demeter.css" rel="stylesheet">
  <link href="demeter-font.css" rel="stylesheet">

  <link href="manifest.webmanifest" rel="manifest">
  <link href="favicon.ico" rel="icon" sizes="any">
  <link href="favicon.svg" rel="icon" type="image/svg+xml">
  <link href="apple-touch-icon.png" rel="apple-touch-icon">

  <!-- https://github.com/goldfire/howler.js#quick-start -->
  <script defer src="https://cdn.jsdelivr.net/npm/howler@2.2.3/dist/howler.min.js" integrity="sha256-D+v9meJzO2kOysLcNsgohfWBprXHO2WJWJj/hUhBX1s=" crossorigin="anonymous"></script>

  <!-- https://lil-gui.georgealways.com/#Guide#Installation -->
  <script src="https://cdn.jsdelivr.net/npm/lil-gui@0.17.0/dist/lil-gui.umd.min.js" integrity="sha256-nxA4RilDJhj/0KWgoBtzApRa21VuGjjinTHof84MK/0=" crossorigin="anonymous"></script>

  <script defer src="demeter.js"></script>
  <script defer src="demeter-jlreq.js"></script>
</head>

<body style="margin: 0 0 0 24px">

<template>
<div data-pid="1" data-speaker="narrator"><div data-tid="1">昭和七十四年七月、ボクはキミに出逢った。</div><div data-tid="2">人類が滅亡するまでの、最期のひとつきの、これは物語だ。</div></div>
<div data-pid="2" data-speaker="narrator"><div data-tid="3"><ruby>情報分隊<rt>メイジャイ</rt></ruby>。</div><div data-tid="4">情報処理に特化した<ruby>妖精種<rt>エルブズ</rt></ruby>の<ruby>三人組<rt>トリオ</rt></ruby>。</div><div data-tid="5">オノ＝センダイのデッキを腕に装着している。</div></div>
<div data-pid="3" data-speaker="demeter"><div data-tid="6">発、ブルーリッジ分乗特殊検索群β分遣隊。</div><div data-tid="7">宛、特殊検索群司令部。</div><div data-tid="8">秘匿兵器<ruby>断章<rt>フラグメント</rt></ruby>使用許可を求む。</div><div data-tid="9">このままでは、エンタープライズが沈む。</div></div>
<div data-pid="4" data-speaker="demeter"><div data-tid="10">発、特殊検索群司令部。</div><div data-tid="11">宛、特殊検索群β分遣隊。</div><div data-tid="12">秘匿兵器使用を許可する。</div><div data-tid="13">可能な限り、<ruby>断章<rt>フラグメント</rt></ruby>を回収し、生還せよ。</div></div>
<div data-pid="5" data-speaker="alice"><div data-tid="14">避難民を満載した原子力空母を護って、第七艦隊旗艦は沈んだ。</div><div data-tid="15"><ruby>断章<rt>フラグメント</rt></ruby>はマリアナ海溝の藻屑と消えた。</div><div data-tid="16">β分遣隊は護国の鬼となった。</div></div>
<div data-pid="6" data-speaker="danu"><div data-tid="17">十万余の<ruby>屍者<rt>ゾンビ</rt></ruby>、国難ここに見る。</div><div data-tid="18">昭和七十四年の夏の頃。</div><div data-tid="19">十万だったら楽だったのに。</div></div>
<div data-pid="7" data-speaker="alice"><div data-tid="20">よほど無理をしてもらうぞ。</div><div data-tid="21">我々には、伏せ札がいちまいきりだ。</div></div>
<div data-pid="8" data-speaker="danu"><div data-tid="22">大佐の方針を達する。</div><div data-tid="23">傾聴。</div></div>
<div data-pid="9" data-speaker="alice"><div data-tid="24">そもそもにたちかえろう。</div><div data-tid="25">仮称リヴァイアサンはどうして、<ruby>布哇<rt>ハワイ</rt></ruby>に現れた。</div><div data-tid="26">なぜだ。</div><div data-tid="27">なにものかが、読んだからだ。</div></div>
<div data-pid="10" data-speaker="alice"><div data-tid="28">スティーブンによる福音書を読んだからだ。</div><div data-tid="29">読むという行為。</div><div data-tid="30">読まれてしまった<ruby>福音書<rt>ゴスペル</rt></ruby>。</div><div data-tid="31">仮称リヴァイアサンは、それに反応した。</div></div>
<div data-pid="11" data-speaker="danu"><div data-tid="32">読むという行為。</div><div data-tid="33">計算という行為。</div><div data-tid="34">演算それ自体。</div></div>
<div data-pid="12" data-speaker="alice"><div data-tid="35"><ruby>屍者<rt>ゾンビ</rt></ruby>とはなんだ。</div><div data-tid="36">魔人とはなんだ。</div><div data-tid="37"><ruby>破局<rt>カタストロフ</rt></ruby>とは、なんだ。</div></div>
<div data-pid="13" data-speaker="demeter"><div data-tid="38">昭和六十四年一月七日午前六時三十三分。</div><div data-tid="39"><ruby>破局<rt>カタストロフ</rt></ruby>発生。</div></div>
<div data-pid="14" data-speaker="alice"><div data-tid="40">辺縁からもたらされた人獣共通感染症。</div><div data-tid="41"><ruby>屍者<rt>ゾンビ</rt></ruby>禍を、人類はそのように認識した。</div><div data-tid="42">手をこまねいているうちに、感染が拡大した。</div></div>
<div data-pid="15" data-speaker="danu"><div data-tid="43">外縁で。あらかじめ。</div><div data-tid="44">辺境で。遡及的に。</div><div data-tid="45">未開で。生まれてきた。</div><div data-tid="46">魔人が。人に似て、人でないものたちが。</div></div>
<div data-pid="16" data-speaker="alice"><div data-tid="47">人類と人類っぽいものの固有の尊厳と譲れない権利を護る。</div><div data-tid="48">それが、我々の<ruby>信条<rt>プリンシプル</rt></ruby>だ。</div></div>
<div data-pid="17" data-speaker="danu"><div data-tid="49">世界に自由と正義と平和を築く。</div><div data-tid="50">気づいてるよね、少尉。</div><div data-tid="51">仮称リヴァイアサンを撃滅することも、人類を救済することも、それそのものは、アタシたちの目的じゃない。</div></div>
<div data-pid="18" data-speaker="alice"><div data-tid="52">一通の手紙。</div><div data-tid="53">かつてボクの父だった人間から、郵便が届いた。</div></div>
<div data-pid="19" data-speaker="danu"><div data-tid="54">大佐に手紙が届いちゃったんだ。</div></div>
<div data-pid="20" data-speaker="alice"><div data-tid="55">——ガヴァメントを託した。<ruby>予言機械<rt>オラクルマシン</rt></ruby>を接続しろ。</div></div>
<div data-pid="21" data-speaker="demeter"><div data-tid="56">京浜工業地帯。</div><div data-tid="57">根岸湾埋立地。</div><div data-tid="58">工業技術院一般設計学研究所情報基盤センター南棟。</div><div data-tid="59">通称、計算機棟。</div></div>
<div data-pid="22" data-speaker="danu"><div data-tid="60">情報方舟計画。<ruby>記録保管所<rt>アーカイブズ</rt></ruby>。</div><div data-tid="61">電話回線経由、<ruby>ユニックス間転送プロトコル<rt>UUCP</rt></ruby>接続。</div><div data-tid="62">記録たちは部分的に合衆国の教育機関にバックアップされた。</div><div data-tid="63">たぶん、<ruby>布哇<rt>ハワイ</rt></ruby>大学にも。</div></div>
<div data-pid="23" data-speaker="alice"><div data-tid="64">スティーブンによる福音書。</div><div data-tid="65">封印された偽典の正本。</div><div data-tid="66">我々が読む。</div></div>
<div data-pid="24" data-speaker="alice"><div data-tid="67">決号作戦、第二段階。</div><div data-tid="68">菊刀二号作戦。</div><div data-tid="69">仮称リヴァイアサンを誘引する。</div></div>
<div data-pid="25" data-speaker="alice"><div data-tid="70"><ruby>十字軍<rt>クルセイダーズ</rt></ruby>を加入し、大隊を編成する。</div><div data-tid="71">統合航空軍に空中巡洋艦の渡りはつけた。</div></div>
<div data-pid="26" data-speaker="narrator"><div data-tid="72">空中巡洋艦飛鳥。</div><div data-tid="73">水素を利用した硬式飛行船。</div><div data-tid="74">ヘリウムを利用できないほど、人類は追いつめられている。</div></div>
<div data-pid="27" data-speaker="alice"><div data-tid="75">最悪、計算機棟とやらに雪隠詰めで玉砕だ。</div><div data-tid="76">千万の<ruby>屍者<rt>ゾンビ</rt></ruby>に重囲されてはどうにもならない。</div><div data-tid="77">ボクもやきがまわったな。</div><div data-tid="78">文字どおり、特別攻撃作戦だ。</div></div>
<div data-pid="28" data-speaker="danu"><div data-tid="79">ワンチャン、いけるって。</div></div>
<div data-pid="29" data-speaker="narrator"><div data-tid="80">最後の晩餐は、そうして終わった。</div></div>
<div data-pid="30" data-speaker="narrator"><div data-tid="81">ある夜。</div><div data-tid="82">無名戦士の墓。</div><div data-tid="83"><ruby>訓練士<rt>ハンドラー</rt></ruby>のユキヲが立つ。</div><div data-tid="84">彼の犬とともに。</div></div>
<div data-pid="31" data-speaker="yukio"><div data-tid="85">呼びだしてわるかったな。</div><div data-tid="86"><ruby>長距離哨戒<rt>LRP</rt></ruby>帰りなんだ。</div><div data-tid="87">オレは往くぜ。</div><div data-tid="88">明日の輸送船でな。</div></div>
<div data-pid="32" data-speaker="yukio"><div data-tid="89">渡しておかなきゃいけないものがある。</div><div data-tid="90">オレの<ruby>犬<rt>ケーナイン</rt></ruby>を護って死んだオッサンからの届けものだ。</div></div>
<div data-pid="33" data-speaker="narrator"><div data-tid="91">ガヴァメントの弾倉。</div><div data-tid="92">七発の<ruby>銀の弾丸<rt>シルバー・ヴァレット</rt></ruby>。</div></div>
<div data-pid="34" data-speaker="yukio"><div data-tid="93">告げておかなきゃいけない言葉がある。</div><div data-tid="94">探偵を標榜したオッサンからの言伝だ。</div><div data-tid="95">択べ。だとさ。</div></div>
<div data-pid="35" data-speaker="narrator"><div data-tid="96"><ruby>屍者<rt>ゾンビ</rt></ruby>を嗅ぐ犬は、おなじ重さの金よりも価値がある。</div><div data-tid="97">いまや、金に価値などないけれど。</div><div data-tid="98">ユキヲは犬とともに北海道に渡る。</div><div data-tid="99">決戦がせまっていた。</div></div>
<div data-pid="36" data-speaker="narrator"><div data-tid="100">ある朝。</div><div data-tid="101">三百の兵が水をくちに含む。</div><div data-tid="102">主に選ばれた弊衣の<ruby>古強者<rt>ヴェテラン</rt></ruby>ども。</div><div data-tid="103">メサイア会、極東<ruby>十字軍<rt>クルセイダーズ</rt></ruby>。</div></div>
<div data-pid="37" data-speaker="alice"><div data-tid="104">無停止進撃だ。</div><div data-tid="105">目的を達するまで、我々は止まらない。</div><div data-tid="106">我々は軍隊ではないから。</div><div data-tid="107">我々が最後の軍隊だから。</div></div>
<div data-pid="38" data-speaker="narrator"><div data-tid="108">大隊は進発した。</div><div data-tid="109">二列縦隊で進む。</div><div data-tid="110">中段に武装ピックアップと自走式電源車を置く。</div><div data-tid="111">弾薬を満載したトレーラーを牽引する。</div></div>
<div data-pid="39" data-speaker="narrator"><div data-tid="112"><ruby>破局<rt>カタストロフ</rt></ruby>以降、人類が到達した対<ruby>屍者<rt>ゾンビ</rt></ruby>戦術。</div><div data-tid="113"><ruby>屍者<rt>ゾンビ</rt></ruby>の武器はかみつきと爪。</div><div data-tid="114"><ruby>屍者<rt>ゾンビ</rt></ruby>は、うなり声をあげて歩みよる。</div><div data-tid="115"><ruby>屍者<rt>ゾンビ</rt></ruby>は、塹壕にこもらない。</div></div>
<div data-pid="40" data-speaker="narrator"><div data-tid="116">屋外では、横陣または方陣を組む。</div><div data-tid="117">阻止線を越えた<ruby>屍者<rt>ゾンビ</rt></ruby>の眉間を狙撃する。</div><div data-tid="118">焼夷弾で脳を灼く。</div><div data-tid="119">それが、もっとも経済的で効率的な手段だから。</div></div>
<div data-pid="41" data-speaker="narrator"><div data-tid="120">戦術を内面化した者たちだけが生きのこった。</div><div data-tid="121">弾薬が続くかぎり、<ruby>屍者<rt>ゾンビ</rt></ruby>を打倒する。</div><div data-tid="122">積みあがった屍体それ自体で阻塞する。</div></div>
<div data-pid="42" data-speaker="narrator"><div data-tid="123">屋内では、長柄の武器で近接戦闘を実施する。</div><div data-tid="124"><ruby>第一回収大隊<rt>スカベンジャーズ</rt></ruby>は、円匙や斧槍を得意とする。</div><div data-tid="125"><ruby>十字軍<rt>クルセイダーズ</rt></ruby>は、銃剣を使う。</div><div data-tid="126">アリスの得物は<ruby>大剣<rt>クレイモア</rt></ruby>だ。</div></div>
<div data-pid="43" data-speaker="demeter"><div data-tid="127">進路上に<ruby>屍者<rt>ゾンビ</rt></ruby>、中隊規模。一個小隊欠かな。</div></div>
<div data-pid="44" data-speaker="priest"><div data-tid="128">隊形を変換するか。</div></div>
<div data-pid="45" data-speaker="alice"><div data-tid="129">無停止進撃と命じたぞ、神父。</div><div data-tid="130">ボクが排除する。</div></div>
<div data-pid="46" data-speaker="danu"><div data-tid="131">大隊総員に達する。</div><div data-tid="132">莫迦が単騎で突撃する。</div><div data-tid="133">なんか、いいかんじにおなしゃす。</div></div>
<div data-pid="47" data-speaker="demeter"><div data-tid="134">射界がとれる人は一発だけ撃ってくださーい。</div><div data-tid="135">莫迦にあてないようにまあまあ注意して。</div></div>
<div data-pid="48" data-speaker="narrator"><div data-tid="136">白い肌、深紅の瞳、背より巨きな<ruby>大剣<rt>クレイモア</rt></ruby>。</div><div data-tid="137">少女は荷台から飛びおりる。</div><div data-tid="138">疾る。</div><div data-tid="139">カラシニコフの発砲音が追いぬく。</div></div>
<div data-pid="49" data-speaker="alice"><div data-tid="140"><ruby>死んでくれる？<rt>DIE FOR ME!</rt></ruby></div></div>
<div data-pid="50" data-speaker="narrator"><div data-tid="141">そのつぶやきはキミには届かなかった。</div><div data-tid="142">くるくるまわり、アリスは首を刈る。</div><div data-tid="143">α分遣隊の<ruby>妖精種<rt>エルブズ</rt></ruby>が<ruby>長弓<rt>ロングボウ</rt></ruby>で曲射する。</div><div data-tid="144">すべての<ruby>屍者<rt>ゾンビ</rt></ruby>が倒れ伏す。</div></div>
<div data-pid="51" data-speaker="narrator"><div data-tid="145">大隊は進軍した。</div><div data-tid="146">運河を渡った。</div><div data-tid="147">一般設計学研究所に到着した。</div><div data-tid="148">計算機棟内を掃討する。</div></div>
<div data-pid="52" data-speaker="priest"><div data-tid="149">西側に<ruby>殺し間<rt>キルゾーン</rt></ruby>を形成する。</div><div data-tid="150">海側はどうにもならん。</div></div>
<div data-pid="53" data-speaker="alice"><div data-tid="151">時間差がある。</div><div data-tid="152">各個撃破する。</div></div>
<div data-pid="54" data-speaker="demeter"><div data-tid="153">H+4まで主攻正面は陸側、<ruby>屍者<rt>ゾンビ</rt></ruby>数百万が誘引されると予測。</div><div data-tid="154">H+6、仮称リヴァイアサン東京湾に侵入。</div><div data-tid="155">H+8、巨大群体上陸。</div></div>
<div data-pid="55" data-speaker="danu"><div data-tid="156">最初の四時間で射耗していい。</div></div>
<div data-pid="56" data-speaker="priest"><div data-tid="157">メサイア会、舐めてんじゃねえぞ。小娘。</div></div>
<div data-pid="57" data-speaker="narrator"><div data-tid="158">屍体の山が二階の高さに達すると<ruby>屍者<rt>ゾンビ</rt></ruby>は乗りこえられない。</div><div data-tid="159">狂気だった。</div><div data-tid="160">かつて人間だった身体を積んで壁となす。</div><div data-tid="161">そのことに疑問を持つ者はここにない。</div></div>
<div data-pid="58" data-speaker="alice"><div data-tid="162">ぎりぎりまで電源車のまわりで持久。</div><div data-tid="163">そのあとは籠城だな。</div><div data-tid="164">弾が続くかぎり、屋上から狙撃して遅滞する。</div></div>
<div data-pid="59" data-speaker="engineer"><div data-tid="165">ケーブルは二階まで引けばいいんだな。</div><div data-tid="166">ラックひとつ動かすだけなら、八時間は持つ。</div></div>
<div data-pid="60" data-speaker="danu"><div data-tid="167">α分遣隊、捜索にかかれ。</div></div>
<div data-pid="61" data-speaker="demeter"><div data-tid="168">石英<ruby>硝子<rt>ガラス</rt></ruby>は粉々。</div><div data-tid="169">磁気テープを発見。</div><div data-tid="170"><ruby>自動図書館<rt>ライブラリ</rt></ruby>は故障。</div></div>
<div data-pid="62" data-speaker="danu"><div data-tid="171">読めるの。</div></div>
<div data-pid="63" data-speaker="demeter"><div data-tid="172">可能。</div></div>
<div data-pid="64" data-speaker="danu"><div data-tid="173"><ruby>制御卓<rt>コンソール</rt></ruby>はどう。</div></div>
<div data-pid="65" data-speaker="demeter"><div data-tid="174">起動を確認。</div><div data-tid="175">生体認証装置も正常。</div></div>
<div data-pid="66" data-speaker="alice"><div data-tid="176">はじめるか。</div><div data-tid="177">統合航空軍に打電。</div></div>
<div data-pid="67" data-speaker="priest"><div data-tid="178">ワタシは屋上で指揮をとる。</div><div data-tid="179">そのまえに。</div><div data-tid="180">あ<ruby>奴<rt>いつ</rt></ruby>に銃を託されたキミ。</div><div data-tid="181">キミはなんだ。人間か。魔人か。</div></div>
<div data-pid="68" data-speaker="priest"><div data-tid="182">応えは要らない。</div><div data-tid="183">人間性。</div><div data-tid="184">それが鍵だ。</div></div>
<div data-pid="69" data-speaker="engineer"><div data-tid="185">ジブンも電源車にいくよ。</div><div data-tid="186">いまさらだけど。</div><div data-tid="187">道理にあわないと思わないかい。</div></div>
<div data-pid="70" data-speaker="engineer"><div data-tid="188">情報方舟計画。</div><div data-tid="189">たかが、情報を記録するだけじゃないか。</div><div data-tid="190">どうして数値風洞を必要とした。</div><div data-tid="191">流体力学のためのスパコンで、なにを演算した。</div></div>
<div data-pid="71" data-speaker="narrator"><div data-tid="192">ふたりは歩みさる。</div></div>
<div data-pid="72" data-speaker="alice"><div data-tid="193">はじめよう。</div></div>
<div data-pid="73" data-speaker="danu"><div data-tid="194"><ruby>予言機械<rt>オラクルマシン</rt></ruby>、<ruby>起動<rt>ブート</rt></ruby>。</div><div data-tid="195">仮説を<ruby>待機<rt>ポーリング</rt></ruby>。</div></div>
<div data-pid="74" data-speaker="demeter"><div data-tid="196">テープ<ruby>読出<rt>ロード</rt></ruby>開始。</div><div data-tid="197">残り時間三分。</div></div>
<div data-pid="75" data-speaker="alice"><div data-tid="198">読むという行為。</div><div data-tid="199">しかし、誰が読む。</div></div>
<div data-pid="76" data-speaker="demeter"><div data-tid="200">テープ<ruby>読出<rt>ロード</rt></ruby>完了。</div><div data-tid="201">えっと、これはテクストじゃなくて。</div><div data-tid="202">えっと、これは<ruby>起動連環<rt>ブートストラップ</rt></ruby>。</div></div>
<div data-pid="77" data-speaker="danu"><div data-tid="203">どういうこと。</div></div>
<div data-pid="78" data-speaker="demeter"><div data-tid="204"><ruby>起動連環<rt>ブートストラップ</rt></ruby>第一<ruby>段階<rt>ステージ</rt></ruby>開始。</div><div data-tid="205"><ruby>認証の催促<rt>プロンプト</rt></ruby>。</div></div>
<div data-pid="79" data-speaker="alice"><div data-tid="206">少尉、待たせたな。</div><div data-tid="207">キミの血をもらう。</div></div>
<div data-pid="80" data-speaker="narrator"><div data-tid="208">生体認証装置に、キミは血をたらす。</div></div>
<div data-pid="81" data-speaker="demeter"><div data-tid="209"><ruby>認可<rt>AUTHZ</rt></ruby>。</div></div>
<div data-pid="82" data-speaker="danu"><div data-tid="210"><ruby>認証<rt>AUTHN</rt></ruby>じゃないってこと。</div><div data-tid="211">いかようにも読まれてしまう<ruby>非<rt>アンチ</rt></ruby>テクスト。</div><div data-tid="212">そういうこと。</div></div>
<div data-pid="83" data-speaker="demeter"><div data-tid="213">不明。</div><div data-tid="214">単に復号鍵として利用された可能性。</div></div>
<div data-pid="84" data-speaker="narrator"><div data-tid="215">遠く、キミは<ruby>審判の喇叭<rt>アポカリプティックサウンド</rt></ruby>を聴く。</div><div data-tid="216">カラシニコフのかわいた銃声が響く。</div><div data-tid="217"><ruby>制御卓<rt>コンソール</rt></ruby>のブラウン管に文字が表示される。</div><div data-tid="218"><ruby>スティーブンによる福音書<rt>EVANGELIUM SECUNDUM STEPHANUS</rt></ruby>。</div></div>
<div data-pid="85" data-speaker="steven"><div data-tid="219">これは手紙。</div><div data-tid="220">これは郵便。</div><div data-tid="221">これは<ruby>物語<rt>ナラティブ</rt></ruby>。</div></div>
<div data-pid="86" data-speaker="steven"><div data-tid="222">私はオマエをみとめ、哀れに思って走りより、その首を抱いて接吻しよう。</div><div data-tid="223">人類の魔人。</div><div data-tid="224">旧人と新人の——</div></div>
<div data-pid="87" data-speaker="demeter"><div data-tid="225">禁則事項です♪</div><div data-tid="226"><ruby>起動連環<rt>ブートストラップ</rt></ruby>第二<ruby>段階<rt>ステージ</rt></ruby>開始。</div></div>
<div data-pid="88" data-speaker="steven"><div data-tid="227">エデンの園<ruby>配置<rt>コンフィギュレーション</rt></ruby>は喪われた。</div><div data-tid="228">グライダー<ruby>銃<rt>ガン</rt></ruby>で撃たれて、<ruby>長命者<rt>メトセラ</rt></ruby>は九百六十九歳で死んだ。</div></div>
<div data-pid="89" data-speaker="danu"><div data-tid="229"><ruby>予言機械<rt>オラクルマシン</rt></ruby>、仮説を<ruby>受入<rt>アクセプト</rt></ruby>。</div><div data-tid="230">だけど、これはなんの機械なのさ。そもそも。</div></div>
<div data-pid="90" data-speaker="demeter"><div data-tid="231">任意の<ruby>問いかけ<rt>クエリ</rt></ruby>に、<ruby>定数時間<rt>リアルタイム</rt></ruby>で一貫した回答を返す機械。</div><div data-tid="232">昭和三十年代、中央計算技術研究所で開発。</div></div>
<div data-pid="91" data-speaker="danu"><div data-tid="233">なるほど。わからん。</div></div>
<div data-pid="92" data-speaker="demeter"><div data-tid="234"><ruby>起動連環<rt>ブートストラップ</rt></ruby>第三<ruby>段階<rt>ステージ</rt></ruby>開始。</div></div>
<div data-pid="93" data-speaker="danu"><div data-tid="235"><ruby>予言機械<rt>オラクルマシン</rt></ruby>、仮説流入量が増大。</div><div data-tid="236">第一次予言値の生成が<ruby>取消<rt>キャンセル</rt></ruby>。</div><div data-tid="237">データ同化開始。</div></div>
<div data-pid="94" data-speaker="demeter"><div data-tid="238"><ruby>起動連環<rt>ブートストラップ</rt></ruby>完了。</div></div>
<div data-pid="95" data-speaker="steven"><div data-tid="239">これは<ruby>模擬機械<rt>シミュレータ</rt></ruby>。</div><div data-tid="240">これは<ruby>模倣機械<rt>エミュレータ</rt></ruby>。</div><div data-tid="241">これは<ruby>状態機械<rt>オートマトン</rt></ruby>。</div><div data-tid="242">それは<ruby>仮想機械<rt>ヴァーチャルマシン</rt></ruby>。</div></div>
<div data-pid="96" data-speaker="steven"><div data-tid="243">人間が読め。</div><div data-tid="244">人間が択べ。</div><div data-tid="245">配置を択べ。</div><div data-tid="246">エデンの園。グライダー<ruby>銃<rt>ガン</rt></ruby>。<ruby>長命者<rt>メトセラ</rt></ruby>。</div></div>
<div data-pid="97" data-speaker="alice"><div data-tid="247">そうか。そういうことか。</div><div data-tid="248">たったひとりをのぞいて、すべての魔人は物語に典拠する。</div><div data-tid="249">老化しない種属が、物語から引用された。</div></div>
<div data-pid="98" data-speaker="danu"><div data-tid="250"><ruby>森妖精<rt>エルフ</rt></ruby>。</div><div data-tid="251"><ruby>闇妖精<rt>ダークエルフ</rt></ruby>。</div><div data-tid="252"><ruby>深き者<rt>ディープ・ワン</rt></ruby>。</div><div data-tid="253">——<ruby>屍者<rt>ゾンビ</rt></ruby>。</div></div>
<div data-pid="99" data-speaker="alice"><div data-tid="254">なにものかが、<ruby>長命者<rt>メトセラ</rt></ruby>配置を読んだ。</div></div>
<div data-pid="100" data-speaker="danu"><div data-tid="255">世界が書きかわった。</div><div data-tid="256">遡及的に。</div><div data-tid="257">だけど、どうやって。</div></div>
<div data-pid="101" data-speaker="demeter"><div data-tid="258">仮説。<ruby>多元宇宙<rt>マルチヴァース</rt></ruby>。</div><div data-tid="259">たとえば、<ruby>模擬<rt>シミュレーション</rt></ruby>宇宙。</div><div data-tid="260">たとえば、この世界は上位世界の計算結果。</div></div>
<div data-pid="102" data-speaker="danu"><div data-tid="261">よくあるはなしだよね。</div></div>
<div data-pid="103" data-speaker="demeter"><div data-tid="262">ふつう、<ruby>下位<rt>ゲスト</rt></ruby>世界から<ruby>上位<rt>ホスト</rt></ruby>世界は不可視。</div><div data-tid="263">スティーブンが発見を主張したのは、<ruby>上位<rt>ホスト</rt></ruby>世界の<ruby>計算機<rt>コンピュータ</rt></ruby>で直接実行される<ruby>繊細<rt>センシティブ</rt></ruby>命令<ruby>集合<rt>セット</rt></ruby>。</div><div data-tid="264"><ruby>上位<rt>ホスト</rt></ruby>世界の脆弱性をつく演算。</div></div>
<div data-pid="104" data-speaker="alice"><div data-tid="265">その<ruby>類推<rt>アナロジー</rt></ruby>だと、完全な特権は取得していないのか。</div></div>
<div data-pid="105" data-speaker="danu"><div data-tid="266">脳に寄生しないと、すぐ崩壊しちゃう繊細な数学的構造とか。</div></div>
<div data-pid="106" data-speaker="alice"><div data-tid="267">飛鳥に積んだ物語論散布爆雷で、計算を広域展開可能か。</div></div>
<div data-pid="107" data-speaker="demeter"><div data-tid="268">おそらく、可能。</div><div data-tid="269">贖宥状ファームウェアの削除、<ruby>読取専用<rt>ROM</rt></ruby>構造物の<ruby>瞬間<rt>スナップショット</rt></ruby>投入が必要。</div><div data-tid="270">仮称リヴァイアサン襲来までにギリ完了。</div></div>
<div data-pid="108" data-speaker="danu"><div data-tid="271">グライダー<ruby>銃<rt>ガン</rt></ruby>が<ruby>長命者<rt>メトセラ</rt></ruby>を撃つ。</div><div data-tid="272">じゃあ、エデンの園は。</div></div>
<div data-pid="109" data-speaker="demeter"><div data-tid="273">ここではない、どこか。</div><div data-tid="274">ここからはたどりつけない、いつか。</div><div data-tid="275">そんな歴史。</div></div>
<div data-pid="110" data-speaker="steven"><div data-tid="276">人間が読め。</div><div data-tid="277">人間が択べ。</div><div data-tid="278">配置を択べ。</div></div>
<div data-pid="111" data-speaker="demeter"><div data-tid="279">エデンの園配置が活性化。</div><div data-tid="280"><ruby>読取専用<rt>ROM</rt></ruby>構造物を展開。</div></div>
<div data-pid="112" data-speaker="demeter"><div data-tid="281">グライダー<ruby>銃<rt>ガン</rt></ruby>配置が活性化。</div><div data-tid="282"><ruby>読取専用<rt>ROM</rt></ruby>構造物を展開。</div></div>
<div data-pid="113" data-speaker="alice"><div data-tid="283">それが人類の選択だというのならば。</div><div data-tid="284">その銃を、かまえろ。</div><div data-tid="285"><ruby>新人<rt>ホモ・サピエンス</rt></ruby>に犯された<ruby>旧人<rt>ホモ・ネアンデルターレンシス</rt></ruby>の胎から生まれた人類の魔人。</div><div data-tid="286">ガヴァメントを、かまえろ。</div></div>
<div data-pid="114" data-speaker="narrator"><div data-tid="287">少女の右掌に<ruby>解放者<rt>リベレータ</rt></ruby>。</div><div data-tid="288">四十五口径。</div></div>
<div data-pid="115" data-speaker="narrator"><div data-tid="289">キミはガヴァメントを抜く。</div><div data-tid="290">四十五口径、<ruby>銀の弾丸<rt>シルバー・ヴァレット</rt></ruby>。</div><div data-tid="291">かまえる。</div><div data-tid="292">撃つ。</div></div>
<div data-pid="116" data-speaker="danu"><div data-tid="293">少尉。</div><div data-tid="294">アンタ。</div><div data-tid="295">一体いつから——</div><div data-tid="296">屍都の女王が<ruby>吸血鬼<rt>ヴァンパイア</rt></ruby>だと錯覚していた？</div></div>
<div data-pid="117" data-speaker="alice"><div data-tid="297">ボクはボクの父だった人間を、あざむいた。</div><div data-tid="298">人類の魔人がいるなら。</div><div data-tid="299"><ruby>屍者<rt>ゾンビ</rt></ruby>の魔人もいるだろう。</div><div data-tid="300">ああ、この瞳はカラコンだ。</div></div>
<div data-pid="118" data-speaker="narrator"><div data-tid="301">キミの弾丸は、ボクの心臓をえぐった。</div><div data-tid="302">ボクの弾丸が、キミの心臓をえぐった。</div><div data-tid="303">キミは見るだろうか。</div><div data-tid="304">キミは聞くだろうか。</div></div>
<div data-pid="119" data-speaker="narrator"><div data-tid="305"><ruby>予言機械<rt>オラクルマシン</rt></ruby>から、したたりおちる言葉。</div><div data-tid="306">無限にたどりつけず、収束していく予言値。</div><div data-tid="307">語られずに終わった、あの日の横濱の<ruby>物語<rt>ストーリー</rt></ruby>。</div></div>
<div data-pid="120" data-speaker="alice"><div data-tid="308">ボクは人類に敵対する。</div><div data-tid="309">ボクが終わらせる。</div><div data-tid="310">人類を。世界を。</div><div data-tid="311">——昭和を。</div></div>
<div data-pid="121" data-speaker="narrator"><div data-tid="312">昭和横濱物語。アリスの<ruby>黙示録<rt>リベレーション</rt></ruby>。</div><div data-tid="313">了。</div></div>
<div data-pid="122" data-speaker="danu"><div data-tid="314">仮称リヴァイアサン、浦賀水道、機雷原を突破。</div><div data-tid="315">対艦誘導弾も効かないとか、なんだかな。</div></div>
<div data-pid="123" data-speaker="alice"><div data-tid="316"><ruby>ポストモダン<rt>ポモ</rt></ruby>に、現代兵器は効かない。</div><div data-tid="317">だから、ボクたちはここにいる。</div></div>
<div data-pid="124" data-speaker="demeter"><div data-tid="318">空中巡洋艦と<ruby>連結<rt>リンク</rt></ruby>成立。</div><div data-tid="319"><ruby>読取専用<rt>ROM</rt></ruby>構造物を転送中。</div></div>
<div data-pid="125" data-speaker="priest"><div data-tid="320">陸側はおさえた。</div><div data-tid="321">二十万からの<ruby>屍者<rt>ゾンビ</rt></ruby>を始末した。</div><div data-tid="322">負傷者はいない。</div><div data-tid="323">そちらは、どうだ。</div></div>
<div data-pid="126" data-speaker="alice"><div data-tid="324">目算はたった。</div><div data-tid="325">この国に三発めは落ちるまい。</div></div>
<div data-pid="127" data-speaker="danu"><div data-tid="326">一般回線に入電。</div><div data-tid="327"><ruby>深き者<rt>ディープ・ワンズ</rt></ruby>穏健派の首魁。</div></div>
<div data-pid="128" data-speaker="activist"><div data-tid="328">良い報せと悪い報せがある。</div><div data-tid="329">良い報せだ。魚人の多数派工作は成功した。</div><div data-tid="330">悪い報せだ。跳ねっかえりが、<ruby>携帯地対空誘導弾<rt>スティンガー</rt></ruby>を<ruby>窃<rt>パク</rt></ruby>って潜伏した。</div></div>
<div data-pid="129" data-speaker="demeter"><div data-tid="331"><ruby>読取専用<rt>ROM</rt></ruby>構造物転送完了。</div><div data-tid="332">構造物の<ruby>瞬間<rt>スナップショット</rt></ruby>を投入。</div><div data-tid="333">物語論爆雷戦準備よろし。</div></div>
<div data-pid="130" data-speaker="alice"><div data-tid="334">即時投射。</div></div>
<div data-pid="131" data-speaker="danu"><div data-tid="335">ボコっちゃえ。</div></div>
<div data-pid="132" data-speaker="narrator"><div data-tid="336">物語論散布爆雷が投射された。</div><div data-tid="337">仮称リヴァイアサンを中心に、微小電子回路の雨が降る。</div><div data-tid="338">仮称リヴァイアサンが吠えた。</div></div>
<div data-pid="133" data-speaker="danu"><div data-tid="339"><ruby>糞<rt>デリモ</rt></ruby>。</div><div data-tid="340">第二海堡から地対空誘導弾発射。</div></div>
<div data-pid="134" data-speaker="alice"><div data-tid="341"><ruby>糞<rt>ミィエルダ</rt></ruby>。</div><div data-tid="342">海岸線から逃せ。</div></div>
<div data-pid="135" data-speaker="narrator"><div data-tid="343">退避は間に合わない。</div><div data-tid="344">飛鳥が爆発する。</div></div>
<div data-pid="136" data-speaker="alice"><div data-tid="345">世界は書きかわるのか。</div><div data-tid="346">あるいは、すでに書きかわったのか。</div></div>
<div data-pid="137" data-speaker="demeter"><div data-tid="347">えっと、書きかわりつつある、たぶん。</div><div data-tid="348">ダヌー姐さんは、ちょっとだけ、まちがってた。</div><div data-tid="349">寄生するのは、生物の脳だけじゃない。</div><div data-tid="350">たがいに依存して、三位一体計算が成立した。</div></div>
<div data-pid="138" data-speaker="danu"><div data-tid="351">だいじょうぶかな。</div><div data-tid="352">円環構造になっちゃわないかな。</div><div data-tid="353">否定神学とか。</div><div data-tid="354">無限後退とか。</div></div>
<div data-pid="139" data-speaker="alice"><div data-tid="355">それならば。</div><div data-tid="356">それがそれならば。</div><div data-tid="357">キミが撃て。その銃で。</div><div data-tid="358">この世界の天井を撃ちやぶれ。</div></div>
<div data-pid="140" data-speaker="narrator"><div data-tid="359"><ruby>予言機械<rt>オラクルマシン</rt></ruby>から、したたりおちる言葉。</div><div data-tid="360">無限のそのさき、予言値は拡散していく。</div><div data-tid="361"><ruby>永遠<rt>えいえん</rt></ruby>のそのさき、ボクたちは出逢いなおす。</div></div>
<div data-pid="141" data-speaker="narrator"><div data-tid="362">これは手紙。</div><div data-tid="363">これは郵便。</div><div data-tid="364">これは<ruby>物語<rt>ナラティブ</rt></ruby>。</div></div>
<div data-pid="142" data-speaker="narrator"><div data-tid="365">一九八九年一月七日午前六時三十三分。</div><div data-tid="366"><ruby>破局<rt>カタストロフ</rt></ruby>は、発生しなかった。</div><div data-tid="367">昭和が、終わった。</div></div>
<div data-pid="143" data-speaker="narrator"><div data-tid="368">一九八九年。</div><div data-tid="369">二月、手塚治虫が死んだ。</div><div data-tid="370">六月、美空ひばりが死んだ。</div><div data-tid="371">十一月、<ruby>槌<rt>ハンマー</rt></ruby>がベルリンの壁をたたきこわした。</div></div>
<div data-pid="144" data-speaker="narrator"><div data-tid="372">元町の坂のうえ、メサイア会の高校は共学になった。</div><div data-tid="373">文芸部の部室。</div><div data-tid="374">窓際、透きとおるように白い肌の少女が、ふわりと振りむいて。</div><div data-tid="375">カラコンをつけたボクなんだけど。</div></div>
<div data-pid="145" data-speaker="alice"><div data-tid="376">ネットニュースで前世の記憶をもつ転生戦士をさがした。</div><div data-tid="377">ソウルネーム気高き天の女王さんから連絡が来た。</div><div data-tid="378">会いにいこう。</div></div>
<div data-pid="146" data-speaker="narrator"><div data-tid="379">灼けてる肌。白い髪。ガングロ。</div></div>
<div data-pid="147" data-speaker="danu"><div data-tid="380">気高き天の女王だよ。</div><div data-tid="381">よろー。</div><div data-tid="382">これ中華街の肉まんね。</div><div data-tid="383">食べながら話そ。</div></div>
<div data-pid="148" data-speaker="narrator"><div data-tid="384">米軍<ruby>住宅<rt>ハウス</rt></ruby>の<ruby>金網<rt>フェンス</rt></ruby>を眺めながら、ボクたちは肉まんを食べる。</div></div>
<div data-pid="149" data-speaker="alice"><div data-tid="385">このセカイでは、本牧は返還されていない。</div><div data-tid="386">だから、マイカル本牧は誕生しない。</div><div data-tid="387">だから、イオン本牧になることもない。</div></div>
<div data-pid="150" data-speaker="alice"><div data-tid="388">ソ連は、まだ崩壊しなさそうだ。</div><div data-tid="389">ルイセンコが重用されなかったせいかもしれない。</div><div data-tid="390">このセカイでは、冷戦が終わっていない。</div><div data-tid="391">このセカイでは、戦後がつづいている。</div></div>
<div data-pid="151" data-speaker="danu"><div data-tid="392">セカイっていうのは、<ruby>PHS<rt>ピッチ</rt></ruby>の電波が届く場所なんだって、漠然と思っていた。</div></div>
<div data-pid="152" data-speaker="alice"><div data-tid="393">今回もアリスと地獄につきあってもらう。</div><div data-tid="394">終わらせよう。</div><div data-tid="395">今度は、この国の。</div><div data-tid="396">——戦後を。</div></div>
<div data-pid="153" data-speaker="narrator"><div data-tid="397">昭和横濱物語。スティーブンによる福音書。最終節。</div><div data-tid="398">了。</div></div>
<div data-pid="154" data-speaker="narrator"><div data-tid="399">仮称リヴァイアサンは、沈黙した。</div><div data-tid="400">関東に集結した巨大群体は、動きを止めた。</div></div>
<div data-pid="155" data-speaker="danu"><div data-tid="401">ところでさ。</div><div data-tid="402">グライダー<ruby>銃<rt>ガン</rt></ruby>が<ruby>長命者<rt>メトセラ</rt></ruby>を撃つんなら。</div><div data-tid="403">アタシたちは、どうなるのかな。</div></div>
<div data-pid="156" data-speaker="demeter"><div data-tid="404">生体認証装置に、人類の魔人は、血をささげた。</div></div>
<div data-pid="157" data-speaker="danu"><div data-tid="405"><ruby>無原罪<rt>シンレス</rt></ruby>の人類の血。</div><div data-tid="406"><ruby>配置<rt>コンフィギュレーション</rt></ruby>に埋めこまれた、それは感染するのかな。</div></div>
<div data-pid="158" data-speaker="narrator"><div data-tid="407">それは感染する。</div><div data-tid="408">人類は変容した。</div><div data-tid="409">人類は、緩やかに、人類に変容した。</div><div data-tid="410">人類は、遡及的に、人類に変容した。</div></div>
<div data-pid="159" data-speaker="danu"><div data-tid="411">宗教者が困りそう。</div></div>
<div data-pid="160" data-speaker="priest"><div data-tid="412">困りはしないさ。</div><div data-tid="413">メシア教はそんなに甘い宗教ではない。</div><div data-tid="414">他の宗教のことは知らんが、な。</div></div>
<div data-pid="161" data-speaker="narrator"><div data-tid="415">人類っぽいものは、不老でなくなった。</div><div data-tid="416">人類と人類っぽいものは、増殖して、地に満ちたり、海に満ちたりした。</div><div data-tid="417"><ruby>屍者<rt>ゾンビ</rt></ruby>はそこにたたずみ、じっと哲学している。</div></div>
<div data-pid="162" data-speaker="narrator"><div data-tid="418">空を飛べるようにはならなかったけれど、宇宙で生存可能な人類っぽいものは産まれた。</div><div data-tid="419">いつしか、昭和は終わっていた。</div><div data-tid="420">新しい年号が制定されたかどうか、ボクは知らない。</div></div>
<div data-pid="163" data-speaker="narrator"><div data-tid="421">昭和横濱物語。アリスの<ruby>創世記<rt>ジェネシス</rt></ruby>。</div><div data-tid="422">了。</div></div>
</template>

<script>
document.addEventListener("DOMContentLoaded", async () => {
  let start;

  const D = globalThis.demeter;
  await D.boot();

  start = performance.now();
  const result = await D.loadFontFaces(10000);
  console.log("loadFontFaces", performance.now() - start, result);

  const fontSize = 24;
  const font = "'Showa Yokohama Story', 'BIZ UDPMincho'";

  const outputNode = document.body.appendChild(document.createElement("div"));
  outputNode.style.height = D.numberToCssPixels(document.documentElement.clientHeight);
  outputNode.style.font = D.numberToCssPixels(fontSize) + " " + font;
  outputNode.style.overflow = "auto";
  outputNode.style.scrollSnapType = "y mandatory";

  window.addEventListener("resize", () => {
    outputNode.style.height = D.numberToCssPixels(document.documentElement.clientHeight);
  });

  const speakerTable = {
    narrator: "\uE000",
    alice:    "アリス",
    danu:     "ダヌー",
    demeter:  "デメテル",
    yukio:    "ユキヲ",
    priest:   "神父",
    engineer: "課長",
    activist: "店主",
    steven:   "STEVEN",
  };

  const GUI = lil.GUI;
  const gui = new GUI;

  const data = {
    lineLength: 24,
    layout: async () => await layout(data.lineLength),
  };

  gui.add(data, "lineLength", 10, 40, 1).name("一行の文字数");
  const layoutController = gui.add(data, "layout").name("レイアウト");

  const newVoice = tid => {
    const base = "../output/" + "0".repeat(Math.max(0, 4 - tid.length)) + tid
    return new Howl({ src: [ base + ".webm", base + ".mp3" ] });
  };

  let voiceList;

  const stopVoiceList = () => {
    if (voiceList) {
      voiceList.forEach(voice => {
        if (voice.playing()) {
          voice.stop();
        }
      });
      voiceList = undefined;
    }
  };

  const playVoiceList = (voiceIdList) => {
    stopVoiceList();
    voiceList = voiceIdList.map(voiceId => {
      const basename = "../output/" + "0".repeat(Math.max(0, 4 - voiceId.length)) + voiceId
      return new Howl({ src: [ basename + ".webm", basename + ".mp3" ] });
    });
    voiceList.forEach((voice, i) => {
      const voiceId = voiceIdList[i];
      const nextVoice = voiceList[i + 1];
      voice.on("play", () => document.querySelector("[data-tid='" + voiceId + "']").style.backgroundColor = "#EEF");
      voice.on("stop", () => document.querySelector("[data-tid='" + voiceId + "']").style.backgroundColor = "transparent");
      voice.once("end", () => {
        document.querySelector("[data-tid='" + voiceId + "']").style.backgroundColor = "transparent";
        if (nextVoice) {
          nextVoice.play();
        }
      });
    });
    voiceList[0].play();
  };

  const layout = async lineLength => {
    layoutController.name("レイアウト中").disable();
    const start = performance.now();

    outputNode.replaceChildren();

    const maxWidth = fontSize * lineLength;
    const maxLines = Math.max(Math.ceil(96 / lineLength), 4);
    const lineHeight = fontSize * 2;

    const sourceNodes = document.querySelector("template").content.children;
    for (let i = 0; i < sourceNodes.length; ++i) {
      await D.requestAnimationFrame();

      const sourceNode = sourceNodes[i];

      const containerNode = document.createElement("div");
      containerNode.style.display = "flex";
      containerNode.style.lineHeight = D.numberToCssPixels(lineHeight);
      containerNode.style.scrollSnapAlign = "start";

      const speakerNode = containerNode.appendChild(document.createElement("div"));
      speakerNode.textContent = speakerTable[sourceNode.dataset.speaker];
      speakerNode.style.flex = "none";
      speakerNode.style.width = D.numberToCssPixels(fontSize * 5);
      speakerNode.style.fontFamily = "'Showa Yokohama Story', 'BIZ UDPMincho'";
      speakerNode.addEventListener("click", ev => playVoiceList([...ev.target.nextElementSibling.children].map(textNode => textNode.dataset.tid)));

      const paragraphNode = containerNode.appendChild(document.createElement("div"));
      paragraphNode.style.flex = "none";
      paragraphNode.style.minHeight = D.numberToCssPixels(maxLines * lineHeight);
      paragraphNode.dataset.pid = sourceNode.dataset.pid;

      const paragraph = D.parseParagraph(sourceNode, fontSize, font);

      let numLines = 0;
      paragraph.map((text, j) => {
        const lines = D.composeText(text, maxWidth);
        numLines += lines.length;
        const textNode = paragraphNode.appendChild(D.layoutText(lines, fontSize, lineHeight));
        textNode.dataset.tid = sourceNode.children[j].dataset.tid;
      });

      if (numLines > maxLines) {
        paragraphNode.style.backgroundColor = "#FEE";
      }

      outputNode.append(containerNode);
    }

    console.log("layout", performance.now() - start);
    layoutController.name("レイアウト").enable();
  };

  await layout(24);
});
</script>

</body>
</html>
